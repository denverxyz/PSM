{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from \"axios\";\nimport { AUTH } from \"../../config/Config\";\n\nvar Buffer = require('buffer/').Buffer;\n\nexport function systemAuth() {\n  var basicAuth, conf, res;\n  return _regeneratorRuntime.async(function systemAuth$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          basicAuth = 'Basic ' + Buffer.from(\"system@u-self.com:qwER_1234\").toString('base64');\n          conf = {\n            headers: {\n              \"Content-Type\": \"application/json\",\n              \"Authorization\": basicAuth\n            }\n          };\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(axios.post(AUTH, {}, conf));\n\n        case 5:\n          res = _context.sent;\n          return _context.abrupt(\"return\", {\n            token: res.data.token\n          });\n\n        case 9:\n          _context.prev = 9;\n          _context.t0 = _context[\"catch\"](0);\n          console.log(\"++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\");\n          console.log(_context.t0);\n          return _context.abrupt(\"return\", _context.t0.response.data);\n\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 9]]);\n}","map":{"version":3,"sources":["C:/Users/Administrator/psm/utils/middleware/systemAuth.js"],"names":["axios","AUTH","Buffer","require","systemAuth","basicAuth","from","toString","conf","headers","post","res","token","data","console","log","response"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR;;AACA,IAAIC,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBD,MAAhC;;AAGA,OAAO,SAAeE,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGKC,UAAAA,SAHL,GAGiB,WAAWH,MAAM,CAACI,IAAP,gCAA2CC,QAA3C,CAAoD,QAApD,CAH5B;AAIOC,UAAAA,IAJP,GAIa;AACRC,YAAAA,OAAO,EAAE;AAEP,8BAAgB,kBAFT;AAGP,+BAAiBJ;AAHV;AADD,WAJb;AAAA;AAAA,2CAamBL,KAAK,CAACU,IAAN,CAAWT,IAAX,EAAiB,EAAjB,EAAqBO,IAArB,CAbnB;;AAAA;AAaOG,UAAAA,GAbP;AAAA,2CAiBO;AACNC,YAAAA,KAAK,EAACD,GAAG,CAACE,IAAJ,CAASD;AADT,WAjBP;;AAAA;AAAA;AAAA;AAsBCE,UAAAA,OAAO,CAACC,GAAR,CAAY,gEAAZ;AACAD,UAAAA,OAAO,CAACC,GAAR;AAvBD,2CAwBQ,YAAIC,QAAJ,CAAaH,IAxBrB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import axios from \"axios\";\r\nimport {AUTH} from \"../../config/Config\";\r\nvar Buffer = require('buffer/').Buffer;\r\n\r\n\r\nexport async function systemAuth(){\r\n    \r\n      try{\r\n        var basicAuth = 'Basic ' + Buffer.from(`system@u-self.com:qwER_1234`).toString('base64');\r\n        const conf= {\r\n            headers: {\r\n        \r\n              \"Content-Type\": \"application/json\",\r\n              \"Authorization\": basicAuth\r\n        \r\n            }\r\n        };\r\n\r\n        const res = await axios.post(AUTH, {}, conf);\r\n        //  console.log(\"***********************************************************\")\r\n        // console.log(res.data.token)\r\n\r\n       return {\r\n        token:res.data.token\r\n       }\r\n\r\n      }catch(err){\r\n        console.log(\"++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\")\r\n        console.log(err)\r\n        return err.response.data\r\n      }\r\n\r\n\r\n    \r\n}\r\n"]},"metadata":{},"sourceType":"module"}